---
layout: post 
title: iMessage MCP: Enabling LLM Access to macOS iMessage Data
blog_url: https://wyattjoh.ca/blog/imessage-mcp?utm_source=tldrai 
---

## Overview

Two new open-source packages, `@wyattjoh/imessage-mcp` and `@wyattjoh/imessage`, allow Large Language Models (LLMs) like Claude and GPT-4 read-only access to a user's iMessage database on macOS, enabling natural language queries and local processing of message data.

## Key Points

- New open-source packages `@wyattjoh/imessage-mcp` and `@wyattjoh/imessage` enable LLM read-only access to iMessage data on macOS.
- The `@wyattjoh/imessage-mcp` acts as a Model Context Protocol (MCP) server for LLMs.
- The `@wyattjoh/imessage` is a core library for building custom tools.
- Setup involves configuring Claude Desktop (v0.7.0+) to connect to the iMessage MCP server.
- Six tools are exposed: Search Messages, Get Recent Messages, Get Chats, Get Messages from Chat, Get All Handles, and Search Contacts.
- All processing is local to the user's machine, ensuring data privacy and security (read-only access).
- Common use cases include message analysis, conversation summaries, contact search, and time-based queries.

## Key Topics Discussed

Wyatt Johnson has released two new open-source packages, `@wyattjoh/imessage-mcp` and `@wyattjoh/imessage`, designed to provide Large Language Models (LLMs) like Claude and GPT-4 with read-only access to a user's iMessage database on macOS. The `@wyattjoh/imessage-mcp` package functions as a Model Context Protocol (MCP) server, exposing iMessage data to LLMs, while `@wyattjoh/imessage` serves as a core library for developers wishing to build their own tools. Both packages are available on JSR. To get started, users need Claude Desktop (version 0.7.0 or later) and must configure its `mcpServers` setting to include the iMessage server command. Once connected, LLMs can process natural language queries such as 'Show me all messages from John Smith in the last week,' performing operations like contact searches and message retrieval with pagination. The MCP server exposes six key tools: `searchMessages`, `getRecentMessages`, `getChats`, `getMessagesFromChat`, `getHandles`, and `searchContacts`, covering a wide range of iMessage data interaction. For those who prefer to build custom tools, the core `@wyattjoh/imessage` library can be directly installed and used to open message and contacts databases for querying. A significant aspect of these packages is their emphasis on privacy and security: access is strictly read-only, all processing occurs locally on the user's machine, it is macOS-specific, and Deno requires file system access permissions. Common applications include analyzing message frequency, summarizing conversations, finding specific contacts, and performing time-based message queries. Future enhancements may include export tools, rich media support, and conversation analytics. The full source code is available on GitHub.

