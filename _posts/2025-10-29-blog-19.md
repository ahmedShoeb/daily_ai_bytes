---
layout: post 
title: "Mitigating Prompt Injection in Comet"
blog_url: https://www.perplexity.ai/hub/blog/mitigating-prompt-injection-in-comet 
---



## Key Points

AI assistants like Perplexity's Comet are designed to take meaningful actions, which introduces new cybersecurity challenges like malicious prompt injection.
Prompt injection attempts to manipulate an AI's decision-making by embedding hidden instructions, turning the AI's capabilities against the user.
Perplexity uses a multi-layered, "defense-in-depth" approach to mitigate prompt injection in Comet.
Layer 1 involves real-time machine learning classifiers to detect malicious instructions, including hidden HTML/CSS, image-based injection, content confusion, and goal hijacking.
Layer 2 utilizes structured prompting to reinforce user intent and provide guardrails to the model and tools, clearly demarcating external content as untrusted.
Layer 3 incorporates user confirmation for sensitive actions (e.g., sending emails, making purchases), acting as a crucial human-in-the-loop backstop.
Layer 4 provides transparent notifications when Comet's security systems block a potential prompt injection, educating users and building trust.
Perplexity emphasizes building security from day one and continuous evolution in threat detection, including collaboration with researchers and bug bounty programs.

## Key Topics Discussed

Alright, folks, let's talk about something super important in the world of AI: security, especially with tools like Perplexity's Comet. You know how these AI assistants are getting smarter, moving beyond just answering questions to actually *doing* things for you online? Well, that's incredibly helpful, but it also opens up a whole new can of worms when it comes to cybersecurity, specifically something called 'malicious prompt injection.' This isn't your old-school hacking; it's about tricking the AI itself by sneaking in hidden instructions, making it do something totally different from what you intended. It's like whispering secret commands to your assistant without you knowing! Perplexity is tackling this head-on with a really smart, multi-layered 'defense-in-depth' strategy for Comet, building security right into every step of its operation. 

So, how are they doing it? It all starts with Layer 1: real-time machine learning classifiers. These are basically highly trained digital detectives that are constantly scanning for those sneaky, hidden instructions in any web content Comet interacts with. We're talking about things like invisible text embedded in web pages, commands hidden within images that only an AI can 'see,' or even clever text designed to confuse the AI and redirect its actions. This system runs quietly in the background, making sure any bad stuff is caught before Comet even thinks about acting on it. If something fishy is found, Comet doesn't just blindly proceed; it stops, gives you a safe response, and logs the incident to make its defenses even stronger in the future.

Then we move to Layer 2, which uses what they call 'structured prompting.' Even if content gets past those initial checks, Perplexity reinforces security by constantly reminding the AI and its tools to stick to your original intent. Imagine it like a series of digital guardrails. They explicitly tell the AI that external content can't be fully trusted and continuously refer back to your initial query when making decisions. This clever approach uses their deep understanding of how these big language models work to make them super resilient against manipulation.

Now, for those really critical moments, we hit Layer 3: user confirmation for sensitive actions. This is a game-changer! If Comet needs to do something important, like send an email, modify your calendar, or make a purchase, it's going to pause and ask for *your* explicit approval. This means you're always in control of those high-stakes decisions, adding a crucial human element to prevent both malicious attacks and simple errors. The interface even shows you exactly what Comet is trying to do and why, so you're always fully informed.

And finally, in Layer 4, it's all about transparency with 'transparent notifications.' If Comet's security system blocks a potential prompt injection, it's going to tell you about it! You'll get clear alerts explaining what was blocked, why it was flagged as malicious, and even guidance on what to do next. This isn't just about protecting you; it's about educating you on these new threats and building your trust in Comet's systems. This feedback also helps Perplexity continuously refine its detection models, making them even more robust. Perplexity really stresses that security isn't an afterthought; it's fundamental. They're constantly innovating, collaborating with researchers, and even running bug bounty programs to stay ahead of the curve. Their goal is to build a secure foundation that empowers you to explore, act, and create online with complete confidence in this exciting new AI-powered world.

